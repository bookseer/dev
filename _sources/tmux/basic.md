---
jupytext:
  text_representation:
    extension: .md
    format_name: myst
kernelspec:
  display_name: Python 3
  language: python
  name: python3
---

(tmux_basic)=
# Основы tmux

+++

Теперь, когда tmux установлен, рассмотрим основные его функции, начав с базового сеанса.

+++

## Запуск tmux

Самый простой способ запуска tmux --- ввести в терминале:
```console
$ tmux
```

После этого окно терминала станет похоже на следующее изображение
:::{figure-md} tmux_basic_010
<img src="./images/tmux_basic_010.svg" alt="Сеанс tmux по умолчанию">

Сеанс tmux по умолчанию
:::

Это «сеанс» (session) tmux, и он работает так же, как обычный терминальный сеанс.
Можно ввести любую допустимую команду, и все будет работать, как ожидалось.

Чтобы закрыть сеанс tmux, нужно ввести
```console
$ exit
```
в самом сеансе.
Это приведет к закрытию tmux, и возврату к стандартному терминалу.

Однако, такой способ запуска tmux не очень удобен для продолжительной работы, и годится лишь для кратковременных сеансов.
Если использовать tmux сколь-нибудь продолжительное время, лучше создать «именованные сеансы».
Такой способ позволит легко идентифицировать сеансы, и свободно переключаться между ними в процессе работы.

Таким образом, можно запускать на одном компьютере столько сеасов, сколько необходимо, и при желании организовывать их
по своему усмотрению.
Например, один сеанс для рабочего проекта, другой --- для собственного крутого крутого сайд-проекта.
Можно организовать эти сеансы, давая каждому собственное уникальное имя.
Это очень просто.
Следующая команда создаст именованный сеанс под названием «base»:
```console
$ tmux new-session -s base
```
Более короткий вариант этой команды выглядит так:
```console
$ tmux new -s base
```

Запуск любой из этих команд приведет к запуску «именованного сеанса» tmux.
:::{figure-md} tmux_basic_020
<img src="./images/tmux_basic_020.svg" alt="Именованный сеанс base">

Именованный сеанс base
:::

Заметить различия, однако, по сравнению с предыдущим запуском, довольно сложно.
Единственное различие --- это имя сеанса в нижнем левом углу окна терминала.

Именованные сеансы удобны, когда есть необходимость оставлять tmux запущенным в фоне.

Особенности работы с сеансами tmux и способы запуска программ в фоновом режиме рассматриваются далее.
А сейчас поговорим о том, как отправлять команды в tmux.


## Префикс команд

Поскольку консольные приложения выполняются внутри tmux, становиться необходим способ сообщить tmux, что команда,
вводимая команда предназначена для него, а не для основного приложения.
Это делается с помощью комбинации клавиш `CTRL-b`, которая называется *префиксом команд*.
Для ввода любой команды tmux необходимо предварительно использовать эту комбинацию.
Важно отметить, что не следует удерживать все клавиши вместе.
Вместо этого сначала одновременно нажмите `CTRL-b`, отпустите эти клавиши, а затем сразу же нажмите клавишу связанную с
командой, которую вы хотите передать tmux.

Чтобы понять, как это работает, снова запустите tmux командой
```console
$ tmux
```
После этого, внутри tmux нажмите `CTRL-b`, а затем --- `t`.
На экране появятся большие часы:

:::{figure-md} tmux_basic_030
<img src="./images/tmux_basic_030.svg" alt="Часы в окне tmux">

Часы в окне tmux
:::

Нажмите клавишу `Enter` или `Esc`, чтобы закрыть часы, и выйдите из tmux, набрав `exit`.

Так как сочетание `CTRL-b` набирать достаточно не удобно, разумным решением является назначить для префикса более
простую комбинацию.
Как это сделать будет показано в разделе {ref}`«Настройка tmux»<tmux_configuring>`.
Поэтому в дальнейшем изложении вместо `CTRL-b` будем использовать обозначение `PREFIX`, за которым следует горячая
клавиша для команды tmux, например, `PREFIX t` для отображения часов, или `PREFIX t` для отсоединения (detaching) от
сеанса.

Теперь давайте посмотрим, как запустить программы в фоновом режиме.
