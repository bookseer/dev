---
jupytext:
  text_representation:
    extension: .md
    format_name: myst
kernelspec:
  display_name: Python 3
  language: python
  name: python3
---

(tmux_visual-configuring)=
# Настройка внешнего вида tmux

Гибкая система настройки, предоставляемая tmux, позволяет не только настраивать способ взаимодействия с интерфейсом, но также дает возможность настроить его внешний вид, чтобы сделать интерфейс более понятным, а в некоторых случаях и более информативным.

tmux предоставляет довольно много настроек внешнего вида.
В этом разделе мы пройдемся по настройкам некоторых из этих параметров, настроим строку состояния и другие компоненты.
Что ж начнем с настройки цветов для различных элементов.
Затем превратим строку состояния в элемент интерфейса предоставляющий некоторую важную информацию об используемом окружении.

+++

## Настройка поддержки цветов
Чтобы иметь возможность настраивать визуальные эффекты tmux, необходимо убедиться, что и терминал, и tmux настроены
на использование 256 цветов.

Команда `tput` поможет быстро определить количество цветов, поддерживаемых терминалом.
Введите команду
```console
$ tput colors
```

Если в результате будет получено 256, значит все настроено как надо.
В противном случае, потребуется настроить терминал для использования режима 256 `xterm`'a.
На Mac можно настроить это в приложение «Terminal», отредактировав профиль, как показано на следующем рисунке:

![](./img/-340-007.png)

При использовании (http://www.iterm2.com)[iTerm2], можно сделать это, отредактировав профиль по умолчанию и изменив режим терминала на `xterm-256color`, как показано на следующем рисунке:

![](./img/-440-008.png)

При использовании Linux, может потребоваться добавить
```
~/.bashrc

[ -z "$TMUX"] && export TERM=xterm-256color
```
в файл `.bashrc`, чтобы включить 256-цветный режим терминала.
Этот условный оператор гарантирует, что переменная `TERM` устанавливается только вне tmux, так как tmux устанавливает свой собственный терминал.

Кроме того, необходимо убедиться, что эмулятор терминала поддерживает отображение символов UTF-8,
чтобы визуальные элементы, например, разделители панелей отображались пунктирными линиями.

Чтобы tmux отображал 256 цветов, добавьте эту строку в наш файл .tmux.conf:
```
~/.tmux.conf

# Set the default terminal mode to 256color mode
set -g default-terminal "screen-256color"
```

Как только будет установлен правильный цветовой режим, будет намного проще использовать такие программы,
как Vim, Emacs и другие полноцветные программы с tmux, особенно когда используются более сложные цветовые схемы для подсветки синтаксиса.
Следующий рисунок, поможет увидеть разницу.

![](./img/-440-009.png)

+++

## Определение кодов цветов
Теперь давайте настроим внешний вид компонентов tmux, начиная с цветовой схемы.

tmux позволяет изменять цвета почти всех частей интерфейса, включая строку состояния, список окон,
область сообщений и даже границы панелей.

tmux предоставляет переменные, которые используются для указания цветов:
`black`, `red` , `green`, `yellow`, `blue`, `magenta`, `cyan`, или `white`.
Также можно использовать обозначения от `color0` до `color255` для ссылки на конкретные цвета в палитре из 256 цветов.

Чтобы найти коды цветов, достаточно запустить следующий простой сценарий:
```cobsole
for i in {0..255}; do
    printf "\x1b[38;5;${i}m${i} "
done
```
При выполнении данного сценария в терминале отобразятся коды доступных для использования цветов:

![](./img/-540-010.png)

tmux имеет определенные параметры конфигурации для изменения цветов текста и фона для каждого из своих компонентов.
